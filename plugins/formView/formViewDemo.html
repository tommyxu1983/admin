<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FormView</title>
    <script type="text/javascript" src="../../jsLib/jquery-1.12.3.js"></script>
    <script type="text/javascript" src="jquery.formview.js"></script>
    <script text="text/javascript" src="../validate/jquery.validateX.js"></script>
<!--    <script text="text/javascript" src="../validate/locales/messages_zh.js"></script>-->
    <link rel="stylesheet" href="../../bootstrap/css/bootstrap.css">
    <link href="../datepicker/datepicker3.css"rel="stylesheet" type="text/css"/>

    <style>
        html, body{width:100%}
/*        #formViewContainer{
            margin-top:100px;
            margin-left:15%;

            width:70%;
            border: 2px black dashed;
            text-align: center;
            :2em
        }*/



        .stepsView{
            display: inline-block;
            list-style: none;
            /* margin-bottom:0px;*/
            width:100%;
        }

        .stepsView > li{
            float:left;
            color: gray;
        }


        .stepsView >li div.txtContainer{
            /*width:100%;
            height:50px;
            background-color: #00b3ee;*/
            color: grey;
        }

        .stepsView >li div.dotBarContainer{
            position: relative;
            width:100%;
            height:30px;
        }


        .stepsView >li div.dotBarContainer .dot{
            display: inline-block;

            width:30px;
            height:30px;
            
            border-radius: 50%;
            background-color: #bfbfbf;
            border: 1px solid rgba(103, 103, 103, 0.5);
            z-index:1000;
        }



        .stepsView >li div.dotBarContainer .bar{
            display: inline-block;
            position:absolute;

            top:13px;
            left:30px;

            height:4px;
            width:100%;

            border-top: 1px solid rgba(103, 103, 103, 0.5);
            border-bottom: 1px solid rgba(103, 103, 103, 0.5);

        }


        .stepsView > li .text-done{
            color:  #3C8DBC !important;
        }

        .stepsView > li .text-active{
            color:  green !important;
        }

        .stepsView > li .step-done{
            background-color: #4790c6 !important;

        }

        .stepsView > li .step-active{
            background-color: #009600 !important;

        }

        .stepsView > li .dot-active{
            -webkit-animation: twinkling 1s infinite ease-in-out;
            animation:twinkling 2s infinite ease-in-out;
        }


        @-webkit-keyframes twinkling{
            0%{
                opacity:0.3;
            }
            100%{
                opacity:1;
            }
        }

        @-webkit-keyframes twinkling{

            0%{
                opacity:0.3;
            }

            100%{
                opacity:1;
            }
        }




        /*---------formView------End--------------------*/





        .formviewContainer{
            padding:0px 0px 5px 0px;
            margin: 10px;
            border:2px rgba(166, 166, 166, 0.56) solid;
            border-radius: 5px;
        }

        .formviewContainer .formviewTitle{
            background-color: #3C8DBC;
            margin: 0px 0px 10px 0px;
            padding:5px;
            width:100%;
            text-align:center;
            color:whitesmoke;
            font-size:1.2em;
        }

        .formviewContainer .formviewForm{
            padding-right:5%;
        }


        .formviewContainer .formviewFormCollapse{


            font-size:1.2em;
            float:right;
            cursor:pointer;
            width:30px;
            color:whitesmoke;

        }
        .formviewContainer .formviewFormCollapse:hover{



            color:indianred;

            transition:All 0.4s ease-in-out;
            -webkit-transition:All 0.4s ease-in-out;
            -moz-transition:All 0.4s ease-in-out;
            -o-transition:All 0.4s ease-in-out;

            transform:rotate(180deg);
            -webkit-transform:rotate(180deg);
            -moz-transform:rotate(180deg);
            -o-transform:rotate(180deg);
            -ms-transform:rotate(180deg);
        }


        .errorPlacement{
            padding-top:2px;
            color: red;
        }
        .errorInput{
            border:1px solid red;
        }
        /*---------formView------End--------------------*/

    </style>
</head>
<body>
    <div class="formViewContainer"></div>
    <!--<div id="formViewContainer">-->
    <!--<form class="form-horizontal" id="员工表">-->
        <!--<div class="form-group"><label for="123456789-name" class="col-sm-2 control-label">姓名</label><div class="col-sm-8"><input class="form-control" id="123456789-name" placeholder="请填写姓名" type="text"></div></div><div class="form-group"><label for="123456789-userName" class="col-sm-2 control-label">用户名</label><div class="col-sm-8"><input class="form-control" id="123456789-userName" placeholder="请填写用户名" type="text"></div></div><div class="form-group"><label for="123456789-nickName" class="col-sm-2 control-label">称昵</label><div class="col-sm-8"><input class="form-control" id="123456789-nickName" placeholder="请填写称昵" type="text"></div></div><div class="form-group"><label for="123456789-email" class="col-sm-2 control-label">邮箱</label><div class="col-sm-8"><input class="form-control" id="123456789-email" placeholder="请填写邮箱" type="email"></div></div>-->

        <!--<div class="form-group">-->
            <!--<label for="123456789-password" class="col-md-2 control-label">密码</label>-->
            <!--<div class="col-md-8">-->
                <!--<div class="input-group">-->
                    <!--<input class="form-control" id="123456789-password" type="password">-->
                    <!--<span class="input-group-btn" style="font-size:5px"><button class="btn btn-default  "></button></span>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->



        <!--<div class="form-group"><label for="123456789-passwordC" class="col-sm-2 control-label">确认密码</label><div class="col-sm-8"><div class="input-group"><input class="form-control" id="123456789-passwordC" type="password"><span class="input-group-btn"><button class="btn btn-default glyphicon glyphicon-eye-close showPSW"></button></span></div></div></div><div class="form-group"><label for="123456789-gender" class="col-sm-2 control-label">性别</label><div class="col-sm-8"><label for="123456789-gender-male"><input type="radio" name="gender" value="male" id="123456789-gender-male">男</label><label for="123456789-gender-female"><input type="radio" name="gender" value="female" id="123456789-gender-female">女</label></div></div><div class="form-group"><label for="123456789-profession" class="col-sm-2 control-label">工种</label><div class="col-sm-8"></div></div><div class="form-group"><label for="123456789-" class="col-sm-2 control-label">生日</label><div class="col-sm-8"></div></div><div class="form-group"><div class="form-group"><button class="btn btn-primary">发送</button></div><div class="form-group"><button class="btn btn-danger">重置</button></div></div></form>-->

    <!--</div>-->
    <script type="text/javascript" src="../datepicker/bootstrap-datepicker.js"></script>
    <script type="text/javascript" src="../datepicker/locales/bootstrap-datepicker.zh-CN.js"></script>
</body>
<script>
    function jsonData(){
        return {

        formID:'123456789', formTitle:'员工表',


            controlList:[
                {label:'姓名', isLabelDisplay:true, dataType:'text',placeholder:'请填写姓名',dataID:'name',data:'张三',dataOption:'',readonly:1, multiline:1,validateRules:{required:true,maxlength:'4'}},
              /*  {label:'用户名', isLabelDisplay:true, dataType:'text',placeholder:'请填写用户名',dataID:'userName',data:'',dataOption:'',validateRules:{required:true,'minlength':'2',maxlength:5}},
                {label:'称昵', isLabelDisplay:true, dataType:'text',placeholder:'请填写称昵',dataID:'nickName',data:'',dataOption:''},
                {label:'邮箱', isLabelDisplay:true, dataType:'email',placeholder:'请填写邮箱',dataID:'email',data:'',dataOption:''},
                {label:'密码', isLabelDisplay:true, dataType:'psw',placeholder:'',dataID:'password',data:'',dataOption:''},
                {label:'确认密码', isLabelDisplay:true, dataType:'psw',placeholder:'',dataID:'passwordC',data:'',dataOption:''},
                {label:'性别', isLabelDisplay:true, dataType:'bool',placeholder:'male',dataID:'gender',data:'male',dataOption:[{id:'male',caption:'男'},{id:'female',caption:'女'}]},
                {label:'工种', isLabelDisplay:true, dataType:'option',placeholder:'worker',dataID:'profession',data:'writer',dataOption:[{id:'teacher',caption:'老师'},{id:'worker',caption:'工人'},{id:'writer',caption:'作家'}]},
                {label:'工种', isLabelDisplay:true, dataType:'multi',placeholder:'worker',dataID:'profession',data:'writer',dataOption:[{id:'teacher',caption:'老师',checked:1},{id:'worker',caption:'工人',checked:0},{id:'writer',caption:'作家',checked:1}]},
                {label:'生日', isLabelDisplay:true, dataType:'date',placeholder:'',dataID:'birthday',data:'1986/04/08',dataOption:''},
                {label:'部门', isLabelDisplay:true,dataType:'text',placeholder:'',dataID:'department',data:'',dataOption:{}},
                {label:'注册资金', isLabelDisplay:true,dataType:'text',currencyType:'',placeholder:'',dataID:'companyRegister',data:'2000',dataOption:{}},*/
                {
                    "label": "审批步骤",
                    "isLabelDisplay": true,
                    "dataType": "steps",
                    "inputReadOnly": 1,
                    "inputMultiLine": 0,
                    "placeholder": "",
                    "dataID": "AuditStep",
                    "data": "66feefa3-57c0-11e6-acba-406186f6951f",
                    "dataOption": [
                        {
                            "id": "35a0f18c-57c0-11e6-acba-406186f6951f",
                            "caption": "步骤一"
                        },
                        {
                            "id": "46502aa6-57c0-11e6-acba-406186f6951f",
                            "caption": "步骤二"
                        },
                        {
                            "id": "66feefa3-57c0-11e6-acba-406186f6951f",
                            "caption": "步骤三"
                        },
                        {
                            "id": "8e532eb7-57c0-11e6-acba-406186f6951f",
                            "caption": "步骤四"
                        },
                        {
                            "id": "a0118498-57c0-11e6-acba-406186f6951f",
                            "caption": "步骤五"
                        }
                    ]
                }
            ]


        }
    }

var haha= {
            "uID": "69e18fd5-e106-45ff-88249b7f125cbd",
            "FCaption": "审批步骤",
            "FDefName": "AuditStep",
            "FDefValX": "",
            "FDefType": "25",
            "FDefSize": null,
            "FValMax": null,
            "FValMin": null,
            "ErrHint": "",
            "InpuHint": "",
            "FStyle": "1",
            "FStyleEx": null,
            "FValueX": "",
            "FMultiLine": 0,
            "FReadonly": 1,
            "FLinks": [
                {
                    "uid": "35a0f18c-57c0-11e6-acba-406186f6951f",
                    "caption": "步骤一"
                },
                {
                    "uid": "46502aa6-57c0-11e6-acba-406186f6951f",
                    "caption": "步骤二"
                },
                {
                    "uid": "66feefa3-57c0-11e6-acba-406186f6951f",
                    "caption": "步骤三"
                },
                {
                    "uid": "8e532eb7-57c0-11e6-acba-406186f6951f",
                    "caption": "步骤四"
                },
                {
                    "uid": "a0118498-57c0-11e6-acba-406186f6951f",
                    "caption": "步骤五"
                }
            ]
        }

    $(function(){
        console.time('test');
            $('.formViewContainer').formview(
                    {
                        data:jsonData(),
                        buttons:[
                            {
                                label:'重置',
                                cssClass:'btn-warning',
                                action:function(formView){
                                    formView.restoreForm();
                                }
                            },
                            {
                                label:'发送',
                                cssClass:'btn-primary',
                                action:function(event,formView) {
                                    var strResult='';
                                    $.each(formView.settings.data.controlList,function(index,item){
                                        strResult=strResult+item.label+': '+item.data+',';
                                    });

                                   /* var vRules= formView.vRules;
                                    var kk= formView.$form.validateX({
                                        rules:vRules
                                    });
                                    var events=$._data(kk[0],'events');*/

                                    var valideX=formView.$form.validateX();


                                    if(! valideX.isAllValid()){
                                        valideX.showOremoveAllErrorOnPage();
                                    }
                                    else{

                                    }





                                    alert(strResult);
                                }
                            }
                        ]


                    }
            );

        var vRules=$('.formViewContainer').formview('getVRules');

       var valideX= $('.formViewContainer').find('form').validateX({
            rules:vRules
        });


   



/*        $('.formViewContainer').find('form').validate({
            /!*onkeyup: null,*!/
            rules:vRules,
            errorPlacement: function(error, element) {
                // Append error within linked label
                $( element )
                        .parent()
                        .append(error[1] );
            },
            errorElement: "<div>",


        });*/





        console.timeEnd('test');





    });


</script>

</html>